<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portal do Cliente</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <style>
    /* Seta do FAQ */
    details > summary { list-style: none; cursor: pointer; }
    details > summary::-webkit-details-marker { display: none; }
    details > summary::before { content: '+'; padding-right: .5rem; font-weight: bold; }
    details[open] > summary::before { content: '-'; }
  </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

  <header class="topbar">
    <div class="page-wrap flex items-center justify-between">
      <span id="portal-title" class="font-bold text-xl">Portal do Cliente</span>
      <div class="flex items-center gap-2">
        <button id="toggle-dark" class="px-3 py-1 bg-white/10 rounded text-sm hover:bg-white/20">Alternar Tema</button>
        <button id="logout-button" class="text-sm hover:underline">Sair</button>
      </div>
    </div>
  </header>

  <main class="page-wrap flex-grow w-full">
    <!-- KPI -->
    <section id="client-dashboard" class="kpi-grid mb-6">
      <div class="kpi kpi-blue">
        <h3>Total de Operações</h3>
        <p id="total-ops">0</p>
      </div>
      <div class="kpi kpi-green">
        <h3>Operações On Time</h3>
        <p id="on-time-ops">0</p>
      </div>
      <div class="kpi kpi-red">
        <h3>Operações com Atraso</h3>
        <p id="delayed-ops-pct">0%</p>
      </div>
    </section>

    <!-- Tabela -->
    <section id="operations-section" class="card">
      <div class="card-body">
        <h2 class="text-2xl font-semibold mb-4">As Minhas Operações</h2>
        <div class="table-wrap">
          <table class="min-w-full table">
            <thead>
              <tr>
                <th class="text-left">Nº Cliente</th>
                <th class="text-left">Booking</th>
                <th class="text-left">Container</th>
                <th class="text-left">Previsão Início</th>
                <th class="text-left">Início Execução</th>
                <th class="text-left">Estado</th>
              </tr>
            </thead>
            <tbody id="operations-table-body"></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq-section" class="card mt-6">
      <div class="card-body">
        <h2 class="text-2xl font-semibold mb-4">Perguntas Frequentes (FAQ)</h2>
        <div class="space-y-4">
          <details class="border-b pb-2">
            <summary class="font-semibold">O que significa "Previsão Início"?</summary>
            <p class="mt-2 text-sm text-gray-600">Data e hora programadas para o início da operação.</p>
          </details>
          <details class="border-b pb-2">
            <summary class="font-semibold">O que significa "Início Execução"?</summary>
            <p class="mt-2 text-sm text-gray-600">Data/hora reais de início. A diferença para a previsão indica atraso ou pontualidade.</p>
          </details>
          <details class="border-b pb-2">
            <summary class="font-semibold">Como é calculado o atraso?</summary>
            <p class="mt-2 text-sm text-gray-600">Considera a diferença entre “Previsão Início” e “Início Execução”. Se a previsão já passou e não iniciou, o atraso conta em tempo real.</p>
          </details>
          <details class="border-b pb-2">
            <summary class="font-semibold">Com quem falar em caso de problema?</summary>
            <p class="mt-2 text-sm text-gray-600">
              Contato do time de atendimento:
              <a href="mailto:atendimento@mercosul-line.com.br" class="text-blue-600 hover:underline">atendimento@mercosul-line.com.br</a> | tel 13 3226-2872.
            </p>
          </details>
          <details class="border-b pb-2">
            <summary class="font-semibold">Onde consultar o dead line do navio?</summary>
            <p class="mt-2 text-sm text-gray-600">
              Programação disponível em
              <a href="http://mercosul-line.com.br/servicos/rotas/programacao" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">mercosul-line.com.br/servicos/rotas/programacao</a>.
            </p>
          </details>
          <details class="border-b pb-2">
            <summary class="font-semibold">O que é e como declarar o VGM?</summary>
            <p class="mt-2 text-sm text-gray-600">
              VGM (“Verified Gross Mass”) é obrigatório pela SOLAS/IMO.
              Declare no portal:
              <a href="https://dashboard.mercosul-line.com.br/access/login" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">dashboard.mercosul-line.com.br</a>.
            </p>
          </details>
        </div>
      </div>
    </section>
  </main>

  <footer class="bg-gray-800 text-white text-center p-4 text-sm">
    &copy; 2025 Rastreamento
  </footer>

  <script>
    const __firebase_config = JSON.stringify({
      apiKey: "AIzaSyAqz0eAaJwE38EAyTgbRk4CZryswDqvSBY",
      authDomain: "mercosul-teste.firebaseapp.com",
      projectId: "mercosul-teste",
      storageBucket: "mercosul-teste.appspot.com",
      messagingSenderId: "650943607449",
      appId: "1:650943607449:web:73ec91b430ccaa55b77e08",
      measurementId: "G-KJHFXFLJ6K"
    });
    const __app_id = "mercosul-line";
  </script>
  <script type="module" src="js/portal.js"></script>
</body>
</html>